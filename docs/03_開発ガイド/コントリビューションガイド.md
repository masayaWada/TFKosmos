# コントリビューションガイド

TFKosmosへのコントリビューションを歓迎します。このガイドでは、プロジェクトへの貢献方法を説明します。

---

## 開発環境のセットアップ

### 必要なツール

| ツール | バージョン | 用途 |
|--------|----------|------|
| Rust | 1.70+ | バックエンド開発 |
| Node.js | 18+ | フロントエンド開発 |
| npm | 9+ | パッケージ管理 |
| Git | 2.0+ | バージョン管理 |

詳細な開発環境セットアップ手順については、[開発環境セットアップ.md](./開発環境セットアップ.md) を参照してください。

---

## 開発ガイドライン

プロジェクトでは、以下のルールとガイドラインを定めています。コントリビューションの際は必ず参照してください。

### コーディング規約

- **[コーディング規約](../../.claude/rules/coding-standards.md)** - 命名規則、フォーマット、Serena MCP利用ガイドライン
- **[ビルドとLint](../../.claude/rules/build-and-lint.md)** - コンパイルチェックとLint実行方法
- **[テストガイドライン](../../.claude/rules/testing-guidelines.md)** - テストコード作成ガイドライン

### Git運用ルール

- **[コミット戦略](../../.claude/rules/commit-strategy.md)** - Conventional Commitsに基づくコミットメッセージ規約、ブランチ戦略
- **[サブエージェント管理](../../.claude/rules/agent-management.md)** - Claude Codeサブエージェントの作成・管理ルール

### アーキテクチャ

- **[アーキテクチャ](../../.claude/rules/architecture.md)** - システムアーキテクチャと技術スタック

---

## プルリクエストの作成

### PRテンプレート

プルリクエスト作成時は、以下のテンプレートを使用してください：

```markdown
## 概要
<!-- 変更内容を簡潔に説明 -->

## 変更タイプ
- [ ] 新機能
- [ ] バグ修正
- [ ] ドキュメント更新
- [ ] リファクタリング
- [ ] その他

## 変更内容
<!-- 具体的な変更点をリスト -->
-
-

## テスト
<!-- テスト方法を記載 -->
- [ ] 単体テストを追加/更新
- [ ] 手動テストを実施

## スクリーンショット（該当する場合）
<!-- UI変更がある場合はスクリーンショットを添付 -->

## チェックリスト
- [ ] コードがフォーマットされている（`cargo fmt`, `eslint`）
- [ ] Lintエラーがない（`cargo clippy`, `eslint`）
- [ ] テストが通っている（`cargo test`, `npm test`）
- [ ] ドキュメントを更新した（必要な場合）
- [ ] コミットメッセージがConventional Commitsに準拠している
```

**サブエージェント追加時の専用テンプレート:**

サブエージェントの追加・更新を行う場合は、`.github/PULL_REQUEST_TEMPLATE/agent_template.md` を使用してください。

### PRの粒度

- **1つのPRは1つの機能/修正に限定**
- 大きな変更は複数のPRに分割
- レビューしやすいサイズ（目安: 500行以下）

---

## レビュープロセス

### レビュー観点

1. **機能要件**
   - 要件を満たしているか
   - エッジケースは考慮されているか

2. **コード品質**
   - コーディング規約に従っているか
   - 適切な命名がされているか
   - 重複コードはないか

3. **テスト**
   - テストは十分か
   - テストケースは適切か

4. **セキュリティ**
   - 機密情報が含まれていないか
   - 入力バリデーションは適切か

5. **パフォーマンス**
   - 非効率な処理はないか
   - N+1問題はないか

### レビューコメントの種類

| プレフィックス | 意味 |
|--------------|------|
| `[must]` | 修正必須 |
| `[should]` | 修正推奨 |
| `[nit]` | 細かい指摘（任意） |
| `[question]` | 質問・確認 |

---

## テスト

新機能やバグ修正には、対応するテストを追加してください。詳細は [テストガイドライン](../../.claude/rules/testing-guidelines.md) を参照してください。

### テストの実行

```bash
# バックエンド
cd backend && cargo test

# フロントエンド
cd frontend && npm test
```

---

## コントリビューション歓迎領域

以下の領域でコントリビューションを特に歓迎しています：

### 優先度: 高

- [ ] GCPサポートの追加
- [ ] 追加AWSリソース（VPC, S3, EC2等）
- [ ] テストカバレッジの向上

### 優先度: 中

- [ ] ドキュメントの翻訳（英語）
- [ ] UIの改善
- [ ] エラーメッセージの改善

### 優先度: 低

- [ ] パフォーマンス最適化
- [ ] アクセシビリティ対応
- [ ] ダークモード対応

---

## 質問・サポート

- **Issue**: バグ報告や機能リクエストは [GitHub Issues](https://github.com/masayaWada/TFKosmos/issues) へ
- **Discussion**: 質問や議論は [GitHub Discussions](https://github.com/masayaWada/TFKosmos/discussions) へ

---

## 関連ドキュメント

### 開発ガイド

- [開発環境セットアップ](./開発環境セットアップ.md)
- [コーディング規約](../../.claude/rules/coding-standards.md)
- [コミット戦略](../../.claude/rules/commit-strategy.md)
- [テストガイドライン](../../.claude/rules/testing-guidelines.md)

### 設計仕様

- [詳細設計書](../詳細設計書.md)
- [用語集](../用語集.md)
