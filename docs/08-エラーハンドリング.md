# 8. エラーハンドリング

### 8.1 エラー分類

#### 接続エラー

- `ConnectionError`: AWS/Azureへの接続失敗
- `AuthenticationError`: 認証失敗
- `PermissionError`: 権限不足

#### スキャンエラー

- `ScanError`: スキャン実行中のエラー
- `ResourceNotFoundError`: リソースが見つからない
- `RateLimitError`: APIレート制限

#### 生成エラー

- `TemplateError`: テンプレート読み込み/レンダリングエラー
- `GenerationError`: コード生成エラー
- `ValidationError`: バリデーションエラー

### 8.2 エラーレスポンス形式

```json
{
  "error": {
    "code": "CONNECTION_ERROR",
    "message": "Failed to connect to AWS",
    "details": {
      "provider": "aws",
      "profile": "default",
      "original_error": "..."
    }
  }
}
```

### 8.3 リトライ戦略

- 一時的なエラー（RateLimitError等）は自動リトライ
- 最大3回、指数バックオフ

---

