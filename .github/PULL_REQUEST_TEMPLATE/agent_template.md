# サブエージェント追加・更新

## エージェント情報

### エージェント名

<!-- 例: git-smart-commit -->

### エージェントの役割

<!-- このエージェントが担当する役割を簡潔に説明してください -->

### 使用タイミング

<!-- どのような場面でこのエージェントを使用するか -->

## 変更内容

<!-- 該当するものにチェックを入れてください -->

- [ ] 新規エージェント追加
- [ ] 既存エージェント更新
- [ ] エージェント削除
- [ ] テンプレート更新
- [ ] 共通プロンプト更新

## ファイル構成

<!-- 追加・変更したファイルをリストアップしてください -->

- [ ] `agents/subagents/<agent-name>/README.md` - 使い方・生成手順
- [ ] `agents/subagents/<agent-name>/agent.md` - エージェント仕様
- [ ] `agents/subagents/<agent-name>/tools.json` - ツール権限設定
- [ ] `agents/subagents/<agent-name>/model.json` - AIモデル設定
- [ ] `agents/subagents/<agent-name>/tests.md` - テストケース

## エージェント仕様

### 入力

<!-- このエージェントが受け取る入力を記載してください -->

### 出力

<!-- このエージェントが生成する出力を記載してください -->

### 主要機能

<!-- エージェントの主要機能を箇条書きで記載してください -->

-
-
-

### 制約・禁止事項

<!-- このエージェントが従う制約や禁止事項を記載してください -->

-
-
-

## ツール権限設定

### 許可ツール

<!-- `tools.json` で許可しているツールと権限レベルを記載してください -->

| ツール | 権限レベル | 用途 |
|--------|-----------|------|
| Bash | read-only | Git状態確認 |
| Bash | execution | コミット実行 |
| Read | read-only | ルールファイル参照 |
| ... | ... | ... |

### 拒否パターン

<!-- `tools.json` の `denied` リストを記載してください -->

- `git push --force*` - 強制プッシュ禁止
- `rm -rf*` - システム破壊コマンド禁止
- ...

## AIモデル設定

### 推奨モデル

<!-- `model.json` で指定している推奨モデルを記載してください -->

- **デフォルト**: sonnet / opus / haiku
- **理由**:

### モデル選択基準

<!-- どのような場合にどのモデルを使用するか -->

- **Sonnet**:
- **Opus**:
- **Haiku**:

## テストケース

### 実施したテストケース

<!-- `tests.md` に記載したテストケースの要約 -->

- [ ] ケース1: 正常系 -
- [ ] ケース2: 異常系 -
- [ ] ケース3: エッジケース -

### テスト結果

| ケース | 結果 | 備考 |
|--------|------|------|
| ケース1 | ✅ Pass | |
| ケース2 | ✅ Pass | |
| ケース3 | ✅ Pass | |

## セキュリティチェック

<!-- セキュリティ関連の確認項目 -->

- [ ] 機密情報（.env, credentials等）へのアクセスを拒否している
- [ ] 危険なコマンド（rm -rf, sudo等）を拒否している
- [ ] ユーザー確認プロセスが適切に実装されている
- [ ] 権限は必要最小限に制限されている

## プロジェクトルール準拠

<!-- プロジェクトルールへの準拠を確認 -->

- [ ] `.claude/rules/coding-standards.md` に準拠
- [ ] `.claude/rules/agent-management.md` の方針に従っている
- [ ] `docs/` 配下のドキュメント（コミット戦略、用語集など）を適切に参照している
- [ ] `agents/README.md` の管理方針に準拠

## ドキュメント

<!-- ドキュメントの整備状況 -->

- [ ] README.md にローカル生成手順を記載
- [ ] トラブルシューティングセクションを追加
- [ ] カスタマイズ方法を記載
- [ ] 更新履歴を記録

## チーム共有

### 影響範囲

<!-- このエージェント追加・更新による影響範囲 -->

- [ ] 既存エージェントへの影響なし
- [ ] 既存ワークフローへの影響なし
- [ ] チームメンバーの作業に影響あり（以下に詳細）

### 周知事項

<!-- チームメンバーに周知すべき事項 -->

-
-

## レビュアーへの確認依頼

<!-- レビュアーに特に確認してほしい点 -->

- [ ] エージェント仕様が明確で理解しやすいか
- [ ] ツール権限設定が適切か（過剰な権限がないか）
- [ ] セキュリティリスクがないか
- [ ] テストケースが十分か
- [ ] ドキュメントが充実しているか

## チェックリスト

<!-- マージ前に以下を確認してください -->

- [ ] `agents/templates/` をもとに作成している
- [ ] すべての定義ファイル（agent.md, tools.json, model.json, tests.md, README.md）が揃っている
- [ ] tools.json の権限設定が最小限に抑えられている
- [ ] tests.md にテストケースを記載している
- [ ] README.md にローカル生成手順を記載している
- [ ] `.claude/rules/agent-management.md` に追加情報を記載（該当する場合）
- [ ] 回帰テストを実施済み（既存エージェント更新の場合）

## Breaking Changes

<!-- 既存エージェントの動作に影響する変更がある場合 -->

- [ ] Breaking Changesなし
- [ ] Breaking Changesあり（以下に詳細）

## 参考資料

<!-- 参考にしたドキュメント、記事などがあれば記載 -->

- [agents/README.md](../../agents/README.md)
- [.claude/rules/agent-management.md](../../.claude/rules/agent-management.md)
-

---

**レビュアーの皆様へ**

このPRは、TFKosmos プロジェクトのサブエージェント管理方針に基づいています。
特にセキュリティリスク（機密情報アクセス、危険コマンド実行等）がないか、
ツール権限設定が適切かを重点的にレビューしてください。
