# E2E テストディレクトリ

Playwright を使用したエンドツーエンドテストを管理するディレクトリです。

## ディレクトリ構造

```
e2e/
├── fixtures/          # テストデータ（モックデータ、設定ファイルなど）
├── pages/             # Page Objectパターンの実装
└── tests/             # 実際のテストケース
```

## ディレクトリの役割

### `fixtures/`
テストで使用するモックデータや設定ファイルを格納します。

- JSON形式のテストデータ
- テスト用の設定ファイル
- モックAPIレスポンス

### `pages/`
Page Objectパターンに基づいたページクラスを実装します。

- 各ページのロケーター定義
- ページ固有のアクション
- 再利用可能なコンポーネント

### `tests/`
実際のE2Eテストケースを記述します。

- フロー単位のテスト
- シナリオテスト
- エッジケーステスト

## テスト実行方法

```bash
# 全テスト実行
npx playwright test

# UIモード（デバッグ用）
npx playwright test --ui

# 特定のブラウザでテスト
npx playwright test --project=chromium

# ヘッドモードでテスト（ブラウザを表示）
npx playwright test --headed

# 特定のテストファイルを実行
npx playwright test e2e/tests/connection.test.ts
```

## テスト作成のガイドライン

1. **Page Objectパターンを使用**
   - ページのロケーターとアクションはページクラスにカプセル化
   - テストコードはビジネスロジックに集中

2. **テストは独立して実行可能に**
   - 各テストは他のテストに依存しない
   - セットアップとクリーンアップを適切に実施

3. **明確なテスト名**
   - テスト名から何をテストしているか分かるように記述
   - `test.describe()` でグループ化

4. **適切なアサーション**
   - 期待する結果を明確に検証
   - `expect()` を使用した型安全なアサーション

5. **スクリーンショットとトレース**
   - 失敗時の原因調査に活用
   - 必要に応じて明示的にスクリーンショットを取得
